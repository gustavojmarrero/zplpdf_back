{"version":3,"sources":["../../../../src/modules/admin/dto/admin-plan-usage.dto.ts"],"sourcesContent":["import { ApiProperty } from '@nestjs/swagger';\n\nclass PlanDistributionItemDto {\n  @ApiProperty()\n  users: number;\n\n  @ApiProperty()\n  percentage: number;\n}\n\nclass UserNearLimitDto {\n  @ApiProperty()\n  id: string;\n\n  @ApiProperty()\n  email: string;\n\n  @ApiProperty({ enum: ['free', 'pro', 'enterprise'] })\n  plan: string;\n\n  @ApiProperty()\n  pdfCount: number;\n\n  @ApiProperty()\n  pdfLimit: number;\n\n  @ApiProperty()\n  percentUsed: number;\n\n  @ApiProperty()\n  periodEnd: Date;\n}\n\nclass UserExceedingFrequentlyDto {\n  @ApiProperty()\n  id: string;\n\n  @ApiProperty()\n  email: string;\n\n  @ApiProperty({ enum: ['free', 'pro', 'enterprise'] })\n  plan: string;\n\n  @ApiProperty()\n  exceedCount: number;\n\n  @ApiProperty()\n  lastExceeded: Date;\n\n  @ApiProperty()\n  suggestedPlan: string;\n}\n\nclass UpgradeOpportunitiesDto {\n  @ApiProperty()\n  freeToProCandidates: number;\n\n  @ApiProperty()\n  proToEnterpriseCandidates: number;\n}\n\nclass ConversionRatesDto {\n  @ApiProperty()\n  freeTrialToPro: number;\n\n  @ApiProperty()\n  proToEnterprise: number;\n}\n\nclass PlanUsageDataDto {\n  @ApiProperty()\n  distribution: {\n    free: PlanDistributionItemDto;\n    pro: PlanDistributionItemDto;\n    enterprise: PlanDistributionItemDto;\n  };\n\n  @ApiProperty({ type: [UserNearLimitDto] })\n  usersNearLimit: UserNearLimitDto[];\n\n  @ApiProperty({ type: [UserExceedingFrequentlyDto] })\n  usersExceedingFrequently: UserExceedingFrequentlyDto[];\n\n  @ApiProperty({ type: UpgradeOpportunitiesDto })\n  upgradeOpportunities: UpgradeOpportunitiesDto;\n\n  @ApiProperty({ type: ConversionRatesDto })\n  conversionRates: ConversionRatesDto;\n}\n\nexport class AdminPlanUsageResponseDto {\n  @ApiProperty()\n  success: boolean;\n\n  @ApiProperty({ type: PlanUsageDataDto })\n  data: PlanUsageDataDto;\n}\n"],"names":["ApiProperty","PlanDistributionItemDto","UserNearLimitDto","enum","UserExceedingFrequentlyDto","UpgradeOpportunitiesDto","ConversionRatesDto","PlanUsageDataDto","type","AdminPlanUsageResponseDto"],"mappings":";;;;;;;;;AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,IAAA,AAAMC,0BAAN,MAAMA;AAMN;;;;;;;;;AAEA,IAAA,AAAMC,mBAAN,MAAMA;AAqBN;;;;;;;;;;;QAdiBC,MAAM;YAAC;YAAQ;YAAO;SAAa;;;;;;;;;;;;;;;;;;;;AAgBpD,IAAA,AAAMC,6BAAN,MAAMA;AAkBN;;;;;;;;;;;QAXiBD,MAAM;YAAC;YAAQ;YAAO;SAAa;;;;;;;;;;;;;;;;AAapD,IAAA,AAAME,0BAAN,MAAMA;AAMN;;;;;;;;;AAEA,IAAA,AAAMC,qBAAN,MAAMA;AAMN;;;;;;;;;AAEA,IAAA,AAAMC,mBAAN,MAAMA;AAmBN;;;;;;;QAXiBC,MAAM;YAACN;SAAiB;;;;;;QAGxBM,MAAM;YAACJ;SAA2B;;;;;;QAGlCI,MAAMH;;;;;;QAGNG,MAAMF;;;;AAIvB,OAAO,MAAMG;AAMb;;;;;;;QAFiBD,MAAMD"}