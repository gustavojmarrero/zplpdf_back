{"version":3,"sources":["../../../../src/modules/admin/dto/admin-conversions.dto.ts"],"sourcesContent":["import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\nimport { IsOptional, IsString, IsDateString, IsEnum } from 'class-validator';\n\nexport class GetConversionsQueryDto {\n  @ApiPropertyOptional({ enum: ['day', 'week', 'month'], default: 'week' })\n  @IsOptional()\n  @IsEnum(['day', 'week', 'month'])\n  period?: 'day' | 'week' | 'month' = 'week';\n\n  @ApiPropertyOptional({ description: 'Start date (ISO 8601)' })\n  @IsOptional()\n  @IsDateString()\n  startDate?: string;\n\n  @ApiPropertyOptional({ description: 'End date (ISO 8601)' })\n  @IsOptional()\n  @IsDateString()\n  endDate?: string;\n}\n\nclass ConversionsSummaryDto {\n  @ApiProperty()\n  totalPdfs: number;\n\n  @ApiProperty()\n  totalLabels: number;\n\n  @ApiProperty()\n  successCount: number;\n\n  @ApiProperty()\n  failureCount: number;\n\n  @ApiProperty()\n  avgLabelsPerPdf: number;\n}\n\nclass TrendItemDto {\n  @ApiProperty()\n  date: string;\n\n  @ApiProperty()\n  pdfs: number;\n\n  @ApiProperty()\n  labels: number;\n\n  @ApiProperty()\n  failures: number;\n}\n\nclass PlanStatsDto {\n  @ApiProperty()\n  pdfs: number;\n\n  @ApiProperty()\n  labels: number;\n}\n\nclass TopUserDto {\n  @ApiProperty()\n  id: string;\n\n  @ApiProperty()\n  email: string;\n\n  @ApiProperty()\n  plan: string;\n\n  @ApiProperty()\n  pdfs: number;\n\n  @ApiProperty()\n  labels: number;\n}\n\nclass ConversionsDataDto {\n  @ApiProperty({ type: ConversionsSummaryDto })\n  summary: ConversionsSummaryDto;\n\n  @ApiProperty({ type: [TrendItemDto] })\n  trend: TrendItemDto[];\n\n  @ApiProperty()\n  byPlan: {\n    free: PlanStatsDto;\n    pro: PlanStatsDto;\n    enterprise: PlanStatsDto;\n  };\n\n  @ApiProperty({ type: [TopUserDto] })\n  topUsers: TopUserDto[];\n}\n\nexport class AdminConversionsResponseDto {\n  @ApiProperty()\n  success: boolean;\n\n  @ApiProperty({ type: ConversionsDataDto })\n  data: ConversionsDataDto;\n}\n"],"names":["ApiProperty","ApiPropertyOptional","IsOptional","IsDateString","IsEnum","GetConversionsQueryDto","period","enum","default","description","ConversionsSummaryDto","TrendItemDto","PlanStatsDto","TopUserDto","ConversionsDataDto","type","AdminConversionsResponseDto"],"mappings":";;;;;;;;;AAAA,SAASA,WAAW,EAAEC,mBAAmB,QAAQ,kBAAkB;AACnE,SAASC,UAAU,EAAYC,YAAY,EAAEC,MAAM,QAAQ,kBAAkB;AAE7E,OAAO,MAAMC;;aAIXC,SAAoC;;AAWtC;;;QAdyBC,MAAM;YAAC;YAAO;YAAQ;SAAQ;QAAEC,SAAS;;;;QAEvD;QAAO;QAAQ;;;;;;QAGDC,aAAa;;;;;;;;QAKbA,aAAa;;;;;;AAMtC,IAAA,AAAMC,wBAAN,MAAMA;AAeN;;;;;;;;;;;;;;;;;;;;;AAEA,IAAA,AAAMC,eAAN,MAAMA;AAYN;;;;;;;;;;;;;;;;;AAEA,IAAA,AAAMC,eAAN,MAAMA;AAMN;;;;;;;;;AAEA,IAAA,AAAMC,aAAN,MAAMA;AAeN;;;;;;;;;;;;;;;;;;;;;AAEA,IAAA,AAAMC,qBAAN,MAAMA;AAgBN;;;QAfiBC,MAAML;;;;;;QAGNK,MAAM;YAACJ;SAAa;;;;;;;;;;QAUpBI,MAAM;YAACF;SAAW;;;;AAInC,OAAO,MAAMG;AAMb;;;;;;;QAFiBD,MAAMD"}