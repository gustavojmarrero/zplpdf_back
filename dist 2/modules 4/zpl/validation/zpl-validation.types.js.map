{"version":3,"sources":["../../../../src/modules/zpl/validation/zpl-validation.types.ts"],"sourcesContent":["/**\n * Tipos e interfaces para el sistema de validacion ZPL\n */\n\n// Severidad del problema detectado\nexport type ValidationSeverity = 'error' | 'warning' | 'info';\n\n// Tipo de validador que detecta el problema\nexport type ValidatorType =\n  | 'structure'\n  | 'field'\n  | 'position'\n  | 'barcode'\n  | 'command';\n\n// Problema de validacion individual\nexport interface ValidationIssue {\n  code: string; // Codigo unico: 'ZPL_STRUCT_001'\n  type: ValidatorType; // Tipo de validador que lo detecto\n  severity: ValidationSeverity;\n  message: string; // Mensaje en idioma seleccionado\n  line?: number; // Linea aproximada del error\n  position?: number; // Posicion en el string\n  context?: string; // Fragmento de ZPL donde ocurre\n  suggestion?: string; // Sugerencia de correccion\n  command?: string; // Comando ZPL relacionado (^FO, ^BC, etc)\n}\n\n// Resumen de validacion\nexport interface ValidationSummary {\n  totalBlocks: number; // Total de bloques ^XA...^XZ\n  validBlocks: number; // Bloques sin errores\n  errorCount: number;\n  warningCount: number;\n  infoCount: number;\n  validatorResults: Record<ValidatorType, boolean>;\n}\n\n// Resultado completo de validacion\nexport interface ValidationResult {\n  isValid: boolean; // true si no hay errores (warnings OK)\n  errors: ValidationIssue[]; // Problemas criticos\n  warnings: ValidationIssue[]; // Advertencias no bloqueantes\n  info: ValidationIssue[]; // Informacion adicional\n  summary: ValidationSummary;\n  processedAt: Date;\n}\n\n// Opciones de validacion\nexport interface ValidationOptions {\n  language: 'es' | 'en';\n  strictMode?: boolean; // Tratar warnings como errors\n  skipValidators?: ValidatorType[];\n  maxErrorsPerBlock?: number; // Limitar errores por bloque\n}\n\n// Interface base para validadores\nexport interface IZplValidator {\n  type: ValidatorType;\n  validate(block: string, options: ValidationOptions): ValidationIssue[];\n}\n\n// Metricas de validacion para Firestore\nexport interface ValidationMetrics {\n  date: string; // YYYY-MM-DD\n  totalValidations: number;\n  totalBlocks: number;\n  errorCounts: Record<string, number>; // Conteo por codigo de error\n  warningCounts: Record<string, number>; // Conteo por codigo de warning\n  avgDurationMs: number;\n  updatedAt: Date;\n}\n"],"names":[],"mappings":"AAAA;;CAEC,GAED,mCAAmC;AA0DnC,wCAAwC;AACxC,WAQC"}